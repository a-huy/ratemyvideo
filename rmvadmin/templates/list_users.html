{% extends "page_base.html" %}
{% load dict_value %}

{% block head %}
    {{ block.super }}
{% endblock head %}

{% block body %}
<div class="pagination">
    <span class="step-links">
        {% if users.has_previous %}
            <a href="?page={{ users.previous_page_number }}&num={{ users.paginator.per_page }}"><</a>
        {% endif %}
        <span class="current-page">
            {{ users.number }} of {{ users.paginator.num_pages }}
        </span>
        {% if users.has_next %}
            <a href="?page={{ users.next_page_number }}&num={{ users.paginator.per_page }}">></a>
        {% endif %}
    </span>
</div>

<table id="users-table">
    <tr class="labels">
        <td>&nbsp;</td>
        <td>FB ID</td>
        <td>Name</td>
        <td>Email</td>
        <td>Age</td>
        <td>Gender</td>
        <td>Location</td>
        <td>Balance</td>
        <td>Earned</td>
        <td>Rated</td>
        <td>Liked</td>
        <td>Referral</td>
        <td>Joined</td>
    </tr>
    {% for user in users %}
    <tr class="user-info {% cycle 'even' 'odd' %}">
        <td>{{ forloop.counter }}</td>
        <td class="user-fb-id">
            <a href="http://www.facebook.com/profile.php?id={{ user.fb_id }}">{{ user.fb_id }}</a>
        </td>
        <td class="user-name">{{ user.real_name }}</td>
        <td class="user-email">{{ user.email }}</td>
        <td class="user-age">{{ user.age }}</td>
        <td class="user-gender">{{ user.gender|capfirst }}</td>
        <td class="user-location">{{ user.location }}</td>
        <td class="user-balance">{{ user.balance }}</td>
        <td class="user-earned">{{ user.earned }}</td>
        <td class="user-rated{% if user.rated > 0 %} active{% endif %}">{{ user.rated }}</td>
        <td class="user-liked">{{ user.liked }}</td>
        <td class="user-referral">{{ user.referral|capfirst }}</td>
        <td class="user-joined-date">{{ user.created_date|date:'m-d-y' }}
    </tr>
    {% endfor %}
</table>

<div class="pagination">
    <span class="step-links">
        {% if users.has_previous %}
            <a href="?page={{ users.previous_page_number }}&num={{ users.paginator.per_page }}"><</a>
        {% endif %}
        <span class="current-page">
            {{ users.number }} of {{ users.paginator.num_pages }}
        </span>
        {% if users.has_next %}
            <a href="?page={{ users.next_page_number }}&num={{ users.paginator.per_page }}">></a>
        {% endif %}
    </span>
</div>
<br />
<a class="button" href="{% url rmvhome %}">RMV Admin</a>
{% endblock body %}

{% block styles %}
    {{ block.super }}
    <link type="text/css" rel="stylesheet"
        href="{{ MEDIA_URL }}styles/rmvadmin/list_users.css" />
    <link type="text/css" rel="stylesheet"
        href="{{ MEDIA_URL }}styles/rmvadmin/rmvbase.css" />
{% endblock styles %}

{% block scripts %}
    {{ block.super }}
{% endblock scripts %}
